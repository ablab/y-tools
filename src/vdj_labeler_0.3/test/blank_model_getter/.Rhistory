df <- read.csv("V_pal_del/V_id.csv", sep='\t', header=F)
setwd("/home/ashlemov/Yandex.Disk/Documents/lab/vers2/src/vdj_labeler/test/blank_models")
df <- read.csv("V_pal_del/V_id.csv", sep='\t', header=F)
probs <- as.matrix(t(read.csv("V_pal_del/V_probs.csv", sep='\t', header=F)))
probs <- apply(probs, c(1, 2), function(x) format(x, scientific=FALSE, digits = 15))
df <- cbind(df, probs[df$V2,])
df <- read.csv("V_pal_del/V_id.csv", sep='\t', header=F)
df
df <- read.csv("V_pal_del/V_id.csv", sep='\t', header=F)
probs <- as.matrix(t(read.csv("V_pal_del/V_probs.csv", sep='\t', header=F)))
probs
probs <- apply(probs, c(1, 2), function(x) format(x, scientific=FALSE, digits = 15))
probs
df <- cbind(df, probs[df$V2,])
df$V2
probs[75,]
df <- read.csv("V_pal_del/V_id.csv", sep='\t', header=F)
probs <- as.matrix(t(read.csv("V_pal_del/V_probs.csv", sep='\t', header=F)))
probs <- apply(probs, c(1, 2), function(x) format(x, scientific=FALSE, digits = 15))
df
cbind(df, probs[df$V2,])
probs[df$V2,]
probs[df$V2,]
dim(probs[df$V2,])
dim(df)
df <- cbind(df, probs[df$V2,])
df
probs <- as.matrix(t(read.csv("V_pal_del/V_probs.csv", sep='\t', header=F, col.names = FALSE)))
probs <- apply(probs, c(1, 2), function(x) format(x, scientific=FALSE, digits = 15))
df <- read.csv("V_pal_del/V_id.csv", sep='\t', header=F)
probs <- as.matrix(t(read.csv("V_pal_del/V_probs.csv", sep='\t', header=F, col.names = FALSE)))
probs
probs <- as.matrix(t(read.csv("V_pal_del/V_probs.csv", sep='\t', header=F, row.names = FALSE)))
probs <- as.matrix(t(read.csv("V_pal_del/V_probs.csv", sep='\t', header=F, row.names = FALSE)))
probs <- as.matrix(t(read.csv("V_pal_del/V_probs.csv", sep='\t', header=F)))
?as.matrix
probs <- as.matrix(t(read.csv("V_pal_del/V_probs.csv", sep='\t', header=F)), row.names=FALSE)
probs
probs <- as.matrix(t(read.csv("V_pal_del/V_probs.csv", sep='\t', header=F)))
row.names(probs) <- NULL
probs
probs <- apply(probs, c(1, 2), function(x) format(x, scientific=FALSE, digits = 15))
df <- cbind(df, probs[df$V2,])
V1 <- sapply(df$V1, function(x) gsub(pattern = "\'", replacement = '', x=x))
write.table(df[, -2], file="blank_model_temp3.csv", sep=",", quote = FALSE, row.names = FALSE, col.names = FALSE, )
write.table(df[, -2], file="V_pal_del/V_model.csv", sep=",", quote = FALSE, row.names = FALSE, col.names = FALSE, )
df <- read.csv("J_pal_del/J_id.csv", sep='\t', header=F)
df$V1 <- sapply(df$V1, function(x) gsub(pattern = "\'", replacement = '', x=x))
probs <- as.matrix(t(read.csv("J_pal_del/J_probs.csv", sep='\t', header=F)))
row.names(probs) <- NULL
probs <- apply(probs, c(1, 2), function(x) format(x, scientific=FALSE, digits = 15))
df <- cbind(df, probs[df$V2,])
V1 <- sapply(df$V1, function(x) gsub(pattern = "\'", replacement = '', x=x))
write.table(df[, -2], file="J_pal_del/J_model.csv", sep=",", quote = FALSE, row.names = FALSE, col.names = FALSE, )
df <- read.csv("D_pal_del/D_id.csv", sep='\t', header=F)
df$V1 <- sapply(df$V1, function(x) gsub(pattern = "\'", replacement = '', x=x))
temp <- list.files(path = "D_pal_del/matlab_matrices_for_each_gen/", pattern="*.csv")
myfiles <- lapply(temp, function(x) { read.csv(paste("D_pal_del/matlab_matrices_for_each_gen/", x, sep = ''), header=F, sep=',') } )
myfiles
length(myfiles)
df <- read.csv("D_pal_del/D_id.csv", sep='\t', header=F)
df$V1 <- sapply(df$V1, function(x) gsub(pattern = "\'", replacement = '', x=x))
temp <- list.files(path = "D_pal_del/matlab_matrices_for_each_gen/", pattern="*.csv")
myfiles <- lapply(temp, function(x) { read.csv(paste("D_pal_del/matlab_matrices_for_each_gen/", x, sep = ''), header=F, sep=',') } )
df$V3 <- myfiles[df$V2]
df
df$Left <- lapply(df$V3, rowSums)
df$Right <- lapply(df$V3, colSums)
df$Left <- lapply(df$Left, function(x) format(x, scientific = FALSE))
df$Right <- lapply(df$Right, function(x) format(x, scientific = FALSE))
df$Left <- sapply(df$Left, unlist)
df$Right <- sapply(df$Right, unlist)
df <- read.csv("D_pal_del/D_id.csv", sep='\t', header=F)
df
df$V1 <- sapply(df$V1, function(x) gsub(pattern = "\'", replacement = '', x=x))
df
temp <- list.files(path = "D_pal_del/matlab_matrices_for_each_gen/", pattern="*.csv")
temp
myfiles <- lapply(temp, function(x) { read.csv(paste("D_pal_del/matlab_matrices_for_each_gen/", x, sep = ''), header=F, sep=',') } )
myfiles
df$V3 <- myfiles[df$V2]
df
View(df)
df$V3
df$V3[1]
lapply(df$V3, rowSums)
df$Left <- lapply(df$V3, rowSums)
df$Right <- lapply(df$V3, colSums)
df$Left <- lapply(df$Left, function(x) format(x, scientific = FALSE))
df$Right <- lapply(df$Right, function(x) format(x, scientific = FALSE))
View(df)
df$Left
write.table(cbind(df[, 1], t(simplify2array(df[, 3]))), file="D_pal_del/D_model_left.csv", sep=",", quote = FALSE, row.names = FALSE, col.names = FALSE)
df <- read.csv("D_pal_del/D_id.csv", sep='\t', header=F)
df$V1 <- sapply(df$V1, function(x) gsub(pattern = "\'", replacement = '', x=x))
temp <- list.files(path = "D_pal_del/matlab_matrices_for_each_gen/", pattern="*.csv")
myfiles <- lapply(temp, function(x) { read.csv(paste("D_pal_del/matlab_matrices_for_each_gen/", x, sep = ''), header=F, sep=',') } )
df$V3 <- myfiles[df$V2]
df$Left <- lapply(df$V3, rowSums)
df$Right <- lapply(df$V3, colSums)
df$Left <- lapply(df$Left, function(x) format(x, scientific = FALSE))
df$Right <- lapply(df$Right, function(x) format(x, scientific = FALSE))
df$Left <- sapply(df$Left, unlist)
df$Right <- sapply(df$Right, unlist)
simplify2array(df[, 3]
)
df <- read.csv("D_pal_del/D_id.csv", sep='\t', header=F)
df$V1 <- sapply(df$V1, function(x) gsub(pattern = "\'", replacement = '', x=x))
temp <- list.files(path = "D_pal_del/matlab_matrices_for_each_gen/", pattern="*.csv")
myfiles <- lapply(temp, function(x) { read.csv(paste("D_pal_del/matlab_matrices_for_each_gen/", x, sep = ''), header=F, sep=',') } )
df$V3 <- myfiles[df$V2]
df$Left
df$Left <- lapply(df$V3, rowSums)
df$Right <- lapply(df$V3, colSums)
df$Left <- lapply(df$Left, function(x) format(x, scientific = FALSE))
df$Right <- lapply(df$Right, function(x) format(x, scientific = FALSE))
df$Left[[1]]
t(simplify2array(df[, 3]))
df$Left <- sapply(df$Left, unlist)
dim(df\)
dim(df)
df <- read.csv("D_pal_del/D_id.csv", sep='\t', header=F)
df$V1 <- sapply(df$V1, function(x) gsub(pattern = "\'", replacement = '', x=x))
temp <- list.files(path = "D_pal_del/matlab_matrices_for_each_gen/", pattern="*.csv")
D.pal.del.files <- lapply(temp, function(x) { read.csv(paste("D_pal_del/matlab_matrices_for_each_gen/", x, sep = ''), header=F, sep=',') } )
df$V3 <- D.pal.del.files[df$V2]
df$Left <- lapply(df$V3, rowSums)
df$Right <- lapply(df$V3, colSums)
df$Left <- lapply(df$Left, function(x) format(x, scientific = FALSE))
df$Right <- lapply(df$Right, function(x) format(x, scientific = FALSE))
df <- read.csv("D_pal_del/D_id.csv", sep='\t', header=F)
df$V1 <- sapply(df$V1, function(x) gsub(pattern = "\'", replacement = '', x=x))
temp <- list.files(path = "D_pal_del/matlab_matrices_for_each_gen/", pattern="*.csv")
D.pal.del.files <- lapply(temp, function(x) { read.csv(paste("D_pal_del/matlab_matrices_for_each_gen/", x, sep = ''), header=F, sep=',') } )
df$V3 <- D.pal.del.files[df$V2]
df$Left <- lapply(df$V3, rowSums)
df$Right <- lapply(df$V3, colSums)
t(simplify2array(df[, 3]))
df[,4]
df[,3]
unlist(df[,3])
df[,3]
df <- read.csv("D_pal_del/D_id.csv", sep='\t', header=F)
df$V1 <- sapply(df$V1, function(x) gsub(pattern = "\'", replacement = '', x=x))
temp <- list.files(path = "D_pal_del/matlab_matrices_for_each_gen/", pattern="*.csv")
D.pal.del.files <- lapply(temp, function(x) { read.csv(paste("D_pal_del/matlab_matrices_for_each_gen/", x, sep = ''), header=F, sep=',') } )
df$V3 <- D.pal.del.files[df$V2]
df$Left <- lapply(df$V3, rowSums)
df$Right <- lapply(df$V3, colSums)
dim(df)
write.table(cbind(df$V1, t(simplify2array(df$Left))), file="D_pal_del/D_model_left.csv", sep=",", quote = FALSE, row.names = FALSE, col.names = FALSE)
write.table(cbind(df$V1, t(simplify2array(df$Right))), file="D_pal_del/D_model_Right.csv", sep=",", quote = FALSE, row.names = FALSE, col.names = FALSE)
write.table(cbind(df$V1, t(simplify2array(df$Left))), file="D_pal_del/D_model_Left.csv", sep=",", quote = FALSE, row.names = FALSE, col.names = FALSE)
write.table(cbind(df$V1, t(simplify2array(df$Right))), file="D_pal_del/D_model_Right.csv", sep=",", quote = FALSE, row.names = FALSE, col.names = FALSE)
df <- read.csv("D_pal_del/D_id.csv", sep='\t', header=F)
df$V1 <- sapply(df$V1, function(x) gsub(pattern = "\'", replacement = '', x=x))
temp <- list.files(path = "D_pal_del/matlab_matrices_for_each_gen/", pattern="*.csv")
D.pal.del.files <- lapply(temp, function(x) { read.csv(paste("D_pal_del/matlab_matrices_for_each_gen/", x, sep = ''), header=F, sep=',') } )
df$V3 <- D.pal.del.files[df$V2]
df$Left <- lapply(df$V3, rowSums)
df$Right <- lapply(df$V3, colSums)
df$Left <- lapply(df$Left, function(x) format(x, scientific = FALSE))
df$Right <- lapply(df$Right, function(x) format(x, scientific = FALSE))
write.table(cbind(df$V1, t(simplify2array(df$Left))), file="D_pal_del/D_model_Left.csv", sep=",", quote = FALSE, row.names = FALSE, col.names = FALSE)
write.table(cbind(df$V1, t(simplify2array(df$Right))), file="D_pal_del/D_model_Right.csv", sep=",", quote = FALSE, row.names = FALSE, col.names = FALSE)
